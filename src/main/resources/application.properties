spring.application.name=charity-be

# Database postgresql
spring.datasource.url=jdbc:postgresql://postgre.oshi.id.vn:5432/charity_db_v2
spring.datasource.username=super_admin
spring.datasource.password=j2ee
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect


spring.docker.compose.enabled=false


# Server port
server.port=5555
server.address=0.0.0.0
server.ssl.enabled=false

# spring.application.server_postgrest=http://172.17.0.1:3000/
spring.application.server_postgrest=http://postgrest.oshi.id.vn/


jwt.secret=secret_keysecret_keysecret_keysecret_keysecret_key
jwt.accessToken.expiration=604800000
jwt.refreshToken.expiration=604800000

# Blockchain Configuration (Sepolia Testnet)
blockchain.enabled=true
blockchain.network.name=sepolia
blockchain.network.chain-id=11155111
blockchain.rpc.url=https://sepolia.infura.io/v3/9ae120071a7442e999f267106f6f22c1
blockchain.wallet.private-key=0ab620cdecc4123e09fe4797bcd4fb9428738bda1d0f3288558ef128aa023a9f
blockchain.wallet.address=0x3a8781adCafD67F92cE2e30EBB4664a796d4C5dA
blockchain.contract.address=0x481BeFf2ff356FD117709951470A9694F1755bbc
blockchain.gas-price=60000000000
blockchain.gas-limit=500000
blockchain.async.enabled=true
blockchain.retry.max-attempts=3
blockchain.retry.delay=5000

vnpay.tmn-code=JNB0SYYM
vnpay.hash-secret=Y33IWWHVK52MD4S6FW5XI8Z0VYYED6IV
vnpay.url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
vnpay.return-url=https://charity-donation-system-three.vercel.app/payment/return

# Email Configuration (Gmail SMTP)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=painpen1981@gmail.com
spring.mail.password=zzes wwlr sxtu vcda
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000


# Cấu hình tham số Rate Limit chung
# Giới hạn 5 request/giây cho tất cả các API được bảo vệ
app.rate-limit.permits-per-second=5.0 
app.rate-limit.enable=true



# config kafka 

spring.kafka.bootstrap-servers=localhost:9092

spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.batch-size=16384
spring.kafka.producer.buffer-memory=33554432
spring.kafka.producer.acks=all

# 3. Cấu hình Consumer (Dùng cho module Notification để NHẬN message)
spring.kafka.consumer.group-id=charity-notification-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.value.default.type=com.example.charitybe.dto.payment.PaymentEvent




# Zipkin Distributed Tracing Configuration
management.tracing.enabled=true
management.tracing.sampling.probability=1.0

# Zipkin endpoint configuration
management.zipkin.tracing.endpoint=http://160.250.131.254:9411/api/v2/spans
management.zipkin.tracing.connect-timeout=10s
management.zipkin.tracing.read-timeout=10s

# Enable all actuator endpoints for monitoring (needed for tracing)
management.endpoints.web.exposure.include=health,info,metrics,prometheus,httptrace
management.endpoint.health.show-details=always

# Logging level for tracing debugging
logging.level.zipkin2=DEBUG
logging.level.org.springframework.boot.actuate.autoconfigure.tracing=DEBUG
